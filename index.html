<head>
  <title>Meteor Dashboard</title>
  <script type="text/javascript" src="//use.typekit.net/apy6yfe.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>

<body>
  {{> index }}
</body>

<template name="index">
  {{#if dashboard}}
    {{> dashboard_view}}
  {{else}}
    {{> dashboard_list}}
  {{/if}}
</template>

<template name="dashboard_list">
  {{#each dashboards}}
    <a href="/dashboard/{{_id}}">View the Dashboard {{_id}}</a>
  {{/each}}
</template>

<template name="dashboard_view">
  <ul id="panels" class="panels">
    {{#each panels}}
      {{> panel}}
    {{/each}}
  </ul>
</template>

<template name="panel">
  <li id="{{panel_id}}" class="panel {{css_class}}-panel" style="{{width_css}} {{height_css}} {{pos_x_css}} {{pos_y_css}}" data-panel-id="{{_id}}">
    <div class="panel__content-wrapper">
      {{{dynamicTemplate}}}
    </div>
    {{> remove_panel_button}}
  </li>
</template>

<template name="remove_panel_button">
  <div class="panel__remove-button">
    <p class="panel__remove-button__confirm">
      Permanently remove this panel?
    </p>
  </div>
</template>
